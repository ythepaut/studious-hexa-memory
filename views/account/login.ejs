<%- include('../includes/header') %>

<div class="has-text-centered">
    <div class="columns is-vcentered">
        <div class="column is-4 is-offset-2">

            <div class="box">
                <h1 class="title"><%- getString(lang.account.login.hello) %></h1>


                <div class="tabs is-fullwidth">
                    <ul>
                        <li class="is-active">
                            <a id="loginForm">
                                <span class="icon"><i class="fas fa-sign-in-alt"></i></span>
                                <span><%= getString(lang.account.login.login) %></span>
                            </a>
                        </li>
                        <li>
                            <a id="registerForm">
                                <span class="icon"><i class="fas fa-user-plus"></i></span>
                                <span><%= getString(lang.account.login.register) %></span>
                            </a>
                        </li>
                    </ul>
                </div>


                <div class="tab-content">
                    <form method="POST" action="/account/login" class="ajax tab-pane is-active" id="loginForm">
                        <input type="hidden" name="_csrf" value="<%= csrf() %>">
                        <input type="hidden" name="next" value="/" id="inputnext" />
                        <div class="field">
                            <p class="control has-icons-left">
                                <input class="input" type="text" autocomplete="username" name="username" placeholder="<%= getString(lang.generic.fields.username) %>" minlength="3" maxlength="16" required />
                                <span class="icon is-small is-left">
                                <i class="fas fa-user"></i>
                            </span>
                            </p>
                        </div>
                        <div class="field">
                            <p class="control has-icons-left">
                                <input class="input" type="password" autocomplete="current-password" name="passwd" placeholder="<%= getString(lang.generic.fields.password) %>" minlength="8" required />
                                <span class="icon is-small is-left">
                                <i class="fas fa-lock"></i>
                            </span>
                            </p>
                        </div>
                        <button type="submit" class="button is-fullwidth is-info"><%= getString(lang.generic.actions.submit) %></button>
                    </form>



                    <form method="POST" action="/account/register" class="ajax tab-pane" id="registerForm">
                        <input type="hidden" name="_csrf" value="<%= csrf() %>">
                        <div class="field">
                            <p class="control has-icons-left">
                                <input class="input" type="text" name="key" placeholder="<%= getString(lang.generic.fields.registerKey) %>" value="<%= key !== null ? key : "" %>" minlength="8" required />
                                <span class="icon is-small is-left">
                                <i class="fas fa-key"></i>
                            </span>
                            </p>
                        </div>
                        <div class="field">
                            <p class="control has-icons-left">
                                <input class="input" type="text" autocomplete="username" name="username" placeholder="<%= getString(lang.generic.fields.username) %>" minlength="3" maxlength="16" required />
                                <span class="icon is-small is-left">
                                <i class="fas fa-user"></i>
                            </span>
                            </p>
                        </div>
                        <div class="field">
                            <p class="control has-icons-left">
                                <input class="input" type="password" autocomplete="new-password" name="passwd" placeholder="<%= getString(lang.generic.fields.password) %>" minlength="8" required />
                                <span class="icon is-small is-left">
                                <i class="fas fa-lock"></i>
                            </span>
                            </p>
                        </div>
                        <div class="field">
                            <p class="control has-icons-left">
                                <input class="input" type="password" autocomplete="new-password" name="passwd2" placeholder="<%= getString(lang.generic.fields.passwordConfirmation) %>" minlength="8" required />
                                <span class="icon is-small is-left">
                                <i class="fas fa-lock"></i>
                            </span>
                            </p>
                        </div>
                        <button type="submit" class="button is-fullwidth is-info"><%= getString(lang.generic.actions.submit) %></button>
                    </form>
                </div>




            </div>

        </div>


        <div class="column">
            <img src="/assets/img/welcome.png" alt="" />
        </div>


    </div>

</div>

<script>
    document.querySelector("#inputnext").setAttribute("value", window.location.pathname);
</script>

<%- include('../includes/footer') %>
